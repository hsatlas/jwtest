<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>장원토건</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./css/style.css">

        <script src="./js/jquery-3.7.1.min.js"></script>
		<link rel="stylesheet" href="./js/swiper/swiper-bundle.min.css" />
		<script src="./js/swiper/swiper-bundle.min.js"></script>
    </head>
    <body>
        <!-- header-->
        <nav class="dark">
            <div class="container menu">
                <a href="" class="logo">
                    <span class="sr-only">장원토건</span>
                </a>
                <ul id="mainMenu"></ul>
                <a href="" class="news">
                    <span>News<br />Room</span>
                </a>
            </div>
        </nav>

        <!-- content -->
        <div class="subpage">
            <!-- sub header -->
            <div class="top sub04">
                <h1>홍보센터</h1>
                <p>PR Center</p>
                <div class="page-header container">
                    <div class="breadcrumb">
                        <a class="icon-home" href="">
                            <span class="sr-only">메인</span>
                        </a>
                        <div class="section-name" id="sectionTitle"><span></span></div>
                    </div>
                    <div class="custom-select" id="subpageSelect" data-menu="pr">
						<div class="selected">메뉴 선택</div>
						<ul class="select-options"></ul>
					</div>
                </div>
            </div>

            <!-- sub content -->
            <div class="content">

                <div class="award-content">
                    <!-- 슬라이드 -->
                    <div class="swiper award-slide">
                        <div class="swiper-wrapper" id="awardWrapper">
                        </div>
                    </div>
                    <!-- 네비게이션 버튼 -->
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>

            </div>
        </div>

        <!-- footer -->
        <footer>
            <div class="container">
                <ul id="footerMenu"></ul>
                <a href="#" class="top">
                    <span class="sr-only">상단이동</span>
                </a>
            </div>
            <div class="copyright">
                <div class="container">
                    <span>Copyright © 2025 Jangwon Construction. All rights reserved.</span>
                    <img src="./images/hd_logo_wh160.png" alt="" />
                </div>
            </div>
        </footer>

        <!-- img modal -->
        <div class="img-popup" id="imagePopup">
            <div class="popup-overlay"></div>
            <div class="popup-content">
                <img src="" alt="" />
            </div>
        </div>
    </body>
    <script src="./js/menu.js"></script>
    <script src="./js/content.js"></script>
    <script>
    const awardData = [
        { year: "2021", title: "건설의 날 국토부장관 표창", image: "./images/sub03/award/01.jpg" },
        { year: "2021", title: "지역건설산업 활성화 대전광역시장 표창", image: "./images/sub03/award/02.jpg" },
        { year: "2019", title: "지역건설산업 활성화 대전광역시장 표창", image: "./images/sub03/award/02-1.png" },
        { year: "2017", title: "지역건설산업 활성화 행정부시장 표창", image: "./images/sub03/award/03.jpg" },
        { year: "2015", title: "대한민국 녹색건축대전 우수상", image: "./images/sub03/award/04.png" },
        { year: "2014", title: "대전광역시 매출의 탑 200억원부문", image: "./images/sub03/award/05.jpg" },
        { year: "2014", title: "대한민국 생태환경건축 대상 (환경부장관상)", image: "./images/sub03/award/06.png" },
        { year: "2014", title: "건설산업발전 대전광역시장 표창", image: "./images/sub03/award/07.png" },
        { year: "2011", title: "건설경기 활성화 대전광역시장 표창", image: "./images/sub03/award/08.jpg" },
        { year: "2008", title: "숲의도시 푸른대전 조성 대전광역시장 표창", image: "./images/sub03/award/09.gif" },
        { year: "2001", title: "대전광역시 제13회 우수 건축상", image: "./images/sub03/award/10.gif" }
    ];

    const wrapper = document.getElementById('awardWrapper');
    awardData.forEach(item => {
        const slide = document.createElement('div');
        slide.className = 'swiper-slide';
        slide.innerHTML = `
            <div class="award-image">
                <img src="${item.image}" alt="${item.title}">
            </div>
            <div class="award-info">
            <h4>${item.year}</h4>
            <p>${item.title}</p>
            </div>
        `;
        wrapper.appendChild(slide);
    });

    new Swiper('.award-slide', {
        slidesPerView: 5,
        centeredSlides: true,
        spaceBetween: 20,
        loop: false,
        grabCursor: true,
        initialSlide: 2,
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        on: {
            slideChangeTransitionEnd: function () {
            document.querySelectorAll('.award-slide .swiper-slide').forEach(slide => {
                slide.style.opacity = '0.5';
            });
            const activeSlide = document.querySelector('.award-slide .swiper-slide-active');
                if (activeSlide) activeSlide.style.opacity = '1';
            }
        }
    });

    const swiperContainer = document.querySelector('.award-slide');

    // 초기엔 'ready' 클래스 추가 (transition 제거용)
    swiperContainer.classList.add('ready');

    window.addEventListener('load', () => {
    setTimeout(() => {
        swiperContainer.classList.remove('ready');
    }, 300); // 0.3초 뒤 transition 복구
    });
</script>

</html>